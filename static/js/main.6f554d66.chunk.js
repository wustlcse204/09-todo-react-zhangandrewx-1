(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(8),d=a.n(s),c=a(2),r=a(3),i=a(5),u=a(4),l=a(6),p=a(1),h=(a(14),a(16),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).deleteTask=a.deleteTask.bind(Object(p.a)(Object(p.a)(a))),a.completedTask=a.completedTask.bind(Object(p.a)(Object(p.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"deleteTask",value:function(e){e.preventDefault();var t=this.props.todoData;this.props.deleteButton(t)}},{key:"completedTask",value:function(e){e.preventDefault();var t=this.props.todoData;this.props.completeButton(t)}},{key:"render",value:function(){var e;return e=this.props.completed?"strikethrough":"",n.a.createElement("article",{id:"{this.props.id}",className:"ToDos"},n.a.createElement("ul",null,n.a.createElement("li",{className:e},n.a.createElement("button",{onClick:this.completedTask}," Completed Task"),n.a.createElement("button",{onClick:this.deleteTask}," Delete Task"),this.props.todoData.text)))}}]),t}(o.Component)),b=(a(18),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).addTodo=a.addTodo.bind(Object(p.a)(Object(p.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"addTodo",value:function(e){e.preventDefault();var t={text:e.target.userInput.value,completed:!1};e.target.userInput.value="",this.props.newTodoHandler(t)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("form",{className:"adding",onSubmit:this.addTodo},n.a.createElement("input",{type:"text",id:"ToDo",name:"userInput",placeholder:"Add a ToDo!"})))}}]),t}(o.Component)),f=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={todos:[]},e.newTodoHandler=e.newTodoHandler.bind(Object(p.a)(Object(p.a)(e))),e.deleteButton=e.deleteButton.bind(Object(p.a)(Object(p.a)(e))),e.completeButton=e.completeButton.bind(Object(p.a)(Object(p.a)(e))),e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);e.setState({todos:t}),console.log(t)}},t.open("GET","https://cse204.work/todos",!0),t.setRequestHeader("x-api-key","adaa8b-ed51bd-543e5a-3a6cb4-21f19b"),t.send()}},{key:"completeButton",value:function(e){console.log(e);var t=this,a=this.state.todos,o=a.indexOf(e);-1!==o&&(a.splice(o,1),this.setState({todos:a}));var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);t.setState({todos:t.state.todos.concat(e)})}},n.open("PUT","https://cse204.work/todos/"+e.id,!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("x-api-key","adaa8b-ed51bd-543e5a-3a6cb4-21f19b"),n.send(JSON.stringify({completed:!0}))}},{key:"deleteButton",value:function(e){var t=this.state.todos,a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({todos:t}));var o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&200===this.status||4===this.readyState&&console.log(this.responseText)},o.open("DELETE","https://cse204.work/todos/"+e.id,!0),o.setRequestHeader("Content-type","application/json"),o.setRequestHeader("x-api-key","adaa8b-ed51bd-543e5a-3a6cb4-21f19b"),o.send()}},{key:"newTodoHandler",value:function(e){var t=this,a={text:e.text},o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);t.setState({todos:t.state.todos.concat(e)})}},o.open("POST","https://cse204.work/todos",!0),o.setRequestHeader("Content-type","application/json"),o.setRequestHeader("x-api-key","adaa8b-ed51bd-543e5a-3a6cb4-21f19b"),o.send(JSON.stringify(a))}},{key:"render",value:function(){var e=this;return this.state.todos.sort(function(e,t){return e.text.localeCompare(t.text)}),n.a.createElement("section",{id:"todos"},n.a.createElement(b,{newTodoHandler:this.newTodoHandler}," "),this.state.todos.map(function(t){return n.a.createElement(h,{key:t.id,todoData:t,completed:t.completed,text:t.text,completeButton:e.completeButton,deleteButton:e.deleteButton})}))}}]),t}(o.Component);d.a.render(n.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.6f554d66.chunk.js.map